{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["persons","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","concat","update","put","Notification","_ref","message","react_default","a","createElement","className","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addPerson","event","preventDefault","console","log","personObject","name","state","newName","number","newNumber","map","names","includes","personService","newPerson","setState","error","setTimeout","removePerson","personId","target","getAttribute","personName","window","confirm","removedPerson","filter","p","toString","handleNameChange","value","handleNumberChange","_this2","_this3","App_Notification","onSubmit","onChange","type","person","key","onClick","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"sPAwBeA,EAAA,CAACC,OApBD,WAEX,OADgBC,IAAMC,IAHV,YAIGC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkBrBC,OAfT,SAACC,GAEZ,OADgBN,IAAMO,KARV,WAQwBD,GACrBJ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAabI,OAVjB,SAACC,GAEZ,OADgBT,IAAMU,OAAN,GAAAC,OAbJ,WAaI,KAAAA,OAA2BF,IAC5BP,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAQLQ,OALzB,SAACH,EAAIH,GAEhB,OADgBN,IAAMa,IAAN,GAAAF,OAlBJ,WAkBI,KAAAA,OAAwBF,GAAMH,GAC/BJ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SClBvCU,EAAe,SAAAC,GAAe,IAAbC,EAAaD,EAAbC,QACrB,OAAgB,OAAZA,EACK,KAIPC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACZJ,IA8GQK,cAxGb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAiBRQ,UAAY,SAACC,GACXA,EAAMC,iBACNC,QAAQC,IAAI,mBAEZ,IAAMC,EAAc,CAClBC,KAAMb,EAAKc,MAAMC,QACjBC,OAAQhB,EAAKc,MAAMG,WAGjBjB,EAAKc,MAAMvC,QAAQ2C,IAAI,SAAAC,GAAK,OAAIA,EAAMN,OAAMO,SAASR,EAAaC,OACpEQ,EACGvC,OAAO8B,GACPjC,KAAK,SAAA2C,GACJtB,EAAKuB,SAAS,CACZhD,QAASyB,EAAKc,MAAMvC,QAAQa,OAAOkC,GACnCP,QAAS,GACTE,UAAW,GACXO,MAAK,gBAAApC,OAAewB,EAAaC,QAEnCY,WAAW,WACTzB,EAAKuB,SAAS,CAACC,MAAO,QACrB,QAvCQxB,EA4CjB0B,aAAe,SAAClB,GACd,IAAMmB,EAAWnB,EAAMoB,OAAOC,aAAa,MACrCC,EAAatB,EAAMoB,OAAOC,aAAa,QAC7CnB,QAAQC,IAAIgB,GACTI,OAAOC,QAAP,gBAAA5C,OAA+B0C,KAChCT,EACGpC,OAAO0C,GACPhD,KAAK,SAAAsD,GACJjC,EAAKuB,SAAS,CACZhD,QAASyB,EAAKc,MAAMvC,QAAQ2D,OAAO,SAAAC,GAAC,OAAIA,EAAEjD,GAAGkD,aAAeT,IAC5DH,MAAK,eAAApC,OAAiB0C,KAExBL,WAAW,WACTzB,EAAKuB,SAAS,CAACC,MAAO,QACrB,QA1DMxB,EAgEnBqC,iBAAmB,SAAC7B,GAClBR,EAAKuB,SAAS,CAACR,QAASP,EAAMoB,OAAOU,SAjEpBtC,EAoEnBuC,mBAAqB,SAAC/B,GACpBR,EAAKuB,SAAS,CAACN,UAAWT,EAAMoB,OAAOU,SAnEvCtC,EAAKc,MAAQ,CACXvC,QAAS,GACTwC,QAAS,GACTE,UAAW,GACXO,MAAO,IANQxB,mFAUC,IAAAwC,EAAArC,KAClBkB,EACG7C,SACAG,KAAK,SAAAJ,GACJiE,EAAKjB,SAAS,CAAChD,+CA0DZ,IAAAkE,EAAAtC,KACP,OACET,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAC8C,EAAD,CAAcjD,QAASU,KAAKW,MAAMU,QAClC9B,EAAAC,EAAAC,cAAA,QAAM+C,SAAUxC,KAAKI,WACnBb,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SACN0C,MAAOnC,KAAKW,MAAMC,QAClB6B,SAAUzC,KAAKkC,oBAGjB3C,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SACR0C,MAAOnC,KAAKW,MAAMG,UAClB2B,SAAUzC,KAAKoC,sBAGjB7C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQiD,KAAK,UAAb,iBAGJnD,EAAAC,EAAAC,cAAA,qBACEF,EAAAC,EAAAC,cAAA,WACGO,KAAKW,MAAMvC,QAAQ2C,IAAI,SAAA4B,GAAM,OAAIpD,EAAAC,EAAAC,cAAA,KAAGmD,IAAKD,EAAOjC,MAAOiC,EAAOjC,KAA7B,IAAoCiC,EAAO9B,OAA3C,IAAmDtB,EAAAC,EAAAC,cAAA,UAAQiB,KAAMiC,EAAOjC,KAAM3B,GAAI4D,EAAO5D,GAAI8D,QAASP,EAAKf,cAAxD,sBAjG/EuB,IAAMC,iBCVxBC,IAASC,OAAO1D,EAAAC,EAAAC,cAACyD,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.aef6b8fc.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, update}","import React from 'react';\nimport personService from './services/persons'\n\nconst Notification = ({message}) => {\n  if (message === null) {\n    return null\n  }\n\n  return(\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: '',\n      error: ''\n    }\n  }\n\n  componentDidMount() {\n    personService\n      .getAll()\n      .then(persons => {\n        this.setState({persons})\n      })\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n    console.log('nappia painettu')\n\n    const personObject ={\n      name: this.state.newName,\n      number: this.state.newNumber\n    }\n\n    if(!this.state.persons.map(names => names.name).includes(personObject.name)) {\n      personService\n        .create(personObject)\n        .then(newPerson => {\n          this.setState({\n            persons: this.state.persons.concat(newPerson),\n            newName: '',\n            newNumber: '',\n            error: `Lisättiin ${personObject.name}`\n          })\n          setTimeout(() => {\n            this.setState({error: null})\n          }, 5000)\n        })\n      }\n    }\n\n    removePerson = (event) => {\n      const personId = event.target.getAttribute(\"id\")\n      const personName = event.target.getAttribute(\"name\")\n      console.log(personId)\n      if(window.confirm(`Poistetaanko ${personName}`)) {\n        personService\n          .remove(personId)\n          .then(removedPerson => {\n            this.setState({\n              persons: this.state.persons.filter(p => p.id.toString() !== personId),\n              error: `Poistettiin ${personName}`\n            })\n            setTimeout(() => {\n              this.setState({error: null})\n            }, 5000)\n          })\n      }\n    }\n  \n\n  handleNameChange = (event) => {\n    this.setState({newName: event.target.value})\n  }\n\n  handleNumberChange = (event) => {\n    this.setState({newNumber: event.target.value})\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Notification message={this.state.error}/>\n        <form onSubmit={this.addPerson}>\n          <div>\n            Nimi: <input \n            value={this.state.newName}\n            onChange={this.handleNameChange}\n            />\n          </div>\n          <div>\n            Numero: <input\n            value={this.state.newNumber}\n            onChange={this.handleNumberChange}\n            />\n          </div>\n          <div>\n            <button type=\"submit\">Lisää</button>\n          </div>\n        </form>\n        <h2>Numerot</h2>\n          <div>\n            {this.state.persons.map(person => <p key={person.name}>{person.name} {person.number} <button name={person.name} id={person.id} onClick={this.removePerson}>Poista</button></p>)}\n          </div>\n      </div>\n    )\n  }\n}\n\n\nexport default App\n\n","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n\n"],"sourceRoot":""}